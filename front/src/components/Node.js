import React from 'react';
import posed from 'react-pose';
import OverlayMining from './OverlayMining';
import OverlayBroadcasting from './OverlayBroadcasting';
import OverlayReceiving from './OverlayReceiving';

const Draggable = posed.div({ draggable: true });

function Node({ name, status, port, blocks, transactions }) {
    // node icon
    let icon = <svg fill="none" stroke="silver" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={{ height: 40, width: 40 }} viewBox="0 0 64 64"><g id="Network"><path d="M47,18a3,3,0,0,1-2.34,2.922A43.891,43.891,0,0,1,45.9,29.01h.01c.031,0,.059-.009.09-.009a3,3,0,0,1,3,3h6a2.992,2.992,0,0,1,2.811-2.981A25.782,25.782,0,0,0,51.74,15.1a26.775,26.775,0,0,1-4.8,2.336A3,3,0,0,1,47,18Z" /><path d="M17,45a2.989,2.989,0,0,1,2.113-2.851A44.471,44.471,0,0,1,18.1,34.99h-.01c-.031,0-.059.009-.09.009a3,3,0,0,1-3-3H9a2.992,2.992,0,0,1-2.811,2.981A25.782,25.782,0,0,0,12.26,48.9a27,27,0,0,1,5.122-2.462A2.969,2.969,0,0,1,17,45Z" /><path d="M55,32H49a3,3,0,0,1-3,3c-.031,0-.059-.008-.09-.009H45.9a44.458,44.458,0,0,1-1.013,7.158,2.959,2.959,0,0,1,1.731,4.29A27,27,0,0,1,51.74,48.9a25.782,25.782,0,0,0,6.071-13.919A2.992,2.992,0,0,1,55,32Z" /><path d="M9,32h6a3,3,0,0,1,3-3c.031,0,.059.008.09.009h.01a43.891,43.891,0,0,1,1.24-8.088,2.975,2.975,0,0,1-2.283-3.486,26.775,26.775,0,0,1-4.8-2.336A25.782,25.782,0,0,0,6.189,29.019,2.992,2.992,0,0,1,9,32Z" /><path d="M21,32h8a3,3,0,0,1,3-3V23a3,3,0,0,1-3-3c0-.031.008-.059.009-.09V19.9a44.668,44.668,0,0,1-6.222-.811,2.967,2.967,0,0,1-3.448,1.83A43.891,43.891,0,0,0,18.1,29.01,3,3,0,0,1,21,32Z" /><path d="M43,32H35a3,3,0,0,1-3,3v6a3,3,0,0,1,3,3c0,.031-.008.059-.009.09V44.1a44.572,44.572,0,0,1,6.023.775,2.951,2.951,0,0,1,3.874-2.724A44.458,44.458,0,0,0,45.9,34.99,3,3,0,0,1,43,32Z" /><path d="M41.212,19.092a44.668,44.668,0,0,1-6.222.811v.007c0,.031.009.059.009.09a3,3,0,0,1-3,3v6a3,3,0,0,1,3,3h8a3,3,0,0,1,2.9-2.99,43.891,43.891,0,0,0-1.24-8.088,2.967,2.967,0,0,1-3.448-1.83Z" /><path d="M20,42a2.994,2.994,0,0,1,2.987,2.872A44.572,44.572,0,0,1,29.01,44.1V44.09c0-.031-.009-.059-.009-.09a3,3,0,0,1,3-3V35a3,3,0,0,1-3-3H21a3,3,0,0,1-2.9,2.99,44.471,44.471,0,0,0,1.013,7.159l0,0A2.964,2.964,0,0,1,20,42Z" /><path d="M29.059,57.417c-3.3-1.311-6.163-4.779-8.151-9.572a2.922,2.922,0,0,1-3.526-1.407A27,27,0,0,0,12.26,48.9a25.864,25.864,0,0,0,16.757,8.929,3.253,3.253,0,0,1,.042-.41Z" /><path d="M44,48a2.967,2.967,0,0,1-.908-.155c-1.988,4.793-4.853,8.261-8.151,9.572v0a3.253,3.253,0,0,1,.042.41A25.864,25.864,0,0,0,51.74,48.9a27,27,0,0,0-5.122-2.462A2.987,2.987,0,0,1,44,48Z" /><path d="M32,55V47a3,3,0,0,1-2.99-2.9,44.572,44.572,0,0,0-6.023.775v.005c0,.042.012.081.012.123a2.991,2.991,0,0,1-2.092,2.845c1.988,4.793,4.853,8.261,8.151,9.572A3,3,0,0,1,32,55Z" /><path d="M41,45c0-.044.011-.085.013-.128A44.572,44.572,0,0,0,34.99,44.1,3,3,0,0,1,32,47v8a3,3,0,0,1,2.941,2.417c3.3-1.311,6.163-4.779,8.151-9.572A2.991,2.991,0,0,1,41,45Z" /><path d="M34.941,6.584c3.1,1.231,5.813,4.365,7.778,8.713a2.977,2.977,0,0,1,4.224,2.139,26.775,26.775,0,0,0,4.8-2.336A25.86,25.86,0,0,0,34.983,6.171a3.078,3.078,0,0,1-.042.41Z" /><path d="M20,15a2.976,2.976,0,0,1,1.281.3c1.965-4.348,4.68-7.482,7.778-8.713v0a3.078,3.078,0,0,1-.042-.41A25.86,25.86,0,0,0,12.26,15.1a26.775,26.775,0,0,0,4.8,2.336A3,3,0,0,1,20,15Z" /><path d="M32,9v8a3,3,0,0,1,2.99,2.9,44.668,44.668,0,0,0,6.222-.811A2.969,2.969,0,0,1,42.719,15.3c-1.965-4.348-4.68-7.482-7.778-8.713A3,3,0,0,1,32,9Z" /><path d="M23,18a2.982,2.982,0,0,1-.212,1.092,44.668,44.668,0,0,0,6.222.811A2.994,2.994,0,0,1,32,17V9a3,3,0,0,1-2.941-2.416c-3.1,1.231-5.813,4.365-7.778,8.713A2.992,2.992,0,0,1,23,18Z" /><path d="M62,32a4,4,0,0,0-3.3-3.929,27.01,27.01,0,0,0-22.77-22.78,3.99,3.99,0,0,0-7.856,0A27.006,27.006,0,0,0,5.3,28.071a3.989,3.989,0,0,0,0,7.858,27.01,27.01,0,0,0,22.77,22.78,3.99,3.99,0,0,0,7.856,0A27.006,27.006,0,0,0,58.7,35.929,4,4,0,0,0,62,32Zm-5.3-3.765A3.989,3.989,0,0,0,54.142,31H49.858a4,4,0,0,0-3.022-2.909,45.607,45.607,0,0,0-1-6.557,3.985,3.985,0,0,0,2.155-3.424,27.565,27.565,0,0,0,3.514-1.7A24.631,24.631,0,0,1,56.7,28.235ZM35.472,56.052A3.99,3.99,0,0,0,33,54.142V47.858a3.991,3.991,0,0,0,2.805-2.687c1.462.119,2.889.3,4.268.549a4,4,0,0,0,1.707,2.6C40.1,52.033,37.91,54.725,35.472,56.052Zm-6.944,0c-2.438-1.327-4.632-4.019-6.308-7.728a4,4,0,0,0,1.708-2.61c1.355-.247,2.782-.433,4.264-.555A3.989,3.989,0,0,0,31,47.858v6.284A3.99,3.99,0,0,0,28.528,56.052Zm0-48.107A3.992,3.992,0,0,0,31,9.858v6.284a3.989,3.989,0,0,0-2.808,2.7c-1.466-.121-2.879-.3-4.222-.547.008-.1.03-.193.03-.294a3.978,3.978,0,0,0-1.441-3.049C24.188,11.622,26.263,9.181,28.526,7.945Zm6.948,0c2.263,1.236,4.338,3.677,5.967,7.006A3.978,3.978,0,0,0,40,18c0,.1.022.2.03.294-1.343.243-2.756.426-4.222.547A3.989,3.989,0,0,0,33,16.142V9.858A3.992,3.992,0,0,0,35.474,7.945ZM42.142,31H35.858A4,4,0,0,0,33,28.142V23.858a4,4,0,0,0,2.908-3.019,46.107,46.107,0,0,0,4.762-.63,3.993,3.993,0,0,0,3.217,1.78,43.586,43.586,0,0,1,.951,6.2A3.988,3.988,0,0,0,42.142,31ZM32,46a2,2,0,1,1,2-2A2,2,0,0,1,32,46Zm0-12a2,2,0,1,1,2-2A2,2,0,0,1,32,34Zm0-16a2,2,0,1,1-2,2A2,2,0,0,1,32,18Zm12,2a2,2,0,1,1,2-2A2,2,0,0,1,44,20ZM22,18a2,2,0,1,1-2-2A2,2,0,0,1,22,18Zm-1.887,3.989a3.993,3.993,0,0,0,3.217-1.78,46.107,46.107,0,0,0,4.762.63A4,4,0,0,0,31,23.858v4.284A4,4,0,0,0,28.142,31H21.858a3.988,3.988,0,0,0-2.7-2.807A43.586,43.586,0,0,1,20.113,21.989ZM18,30a2,2,0,1,1-2,2A2,2,0,0,1,18,30Zm1.162,5.807A3.988,3.988,0,0,0,21.858,33h6.284A4,4,0,0,0,31,35.858v4.284a4,4,0,0,0-2.908,3.019c-1.5.122-2.945.3-4.325.548A3.992,3.992,0,0,0,20,41c-.039,0-.075.01-.113.011A44.108,44.108,0,0,1,19.162,35.807ZM20,43a2,2,0,1,1-2,2A2,2,0,0,1,20,43Zm24,4a2,2,0,1,1,2-2A2,2,0,0,1,44,47Zm0-6a3.992,3.992,0,0,0-3.771,2.72q-2.1-.367-4.317-.547A4,4,0,0,0,33,40.142V35.858A4,4,0,0,0,35.858,33h6.284a3.99,3.99,0,0,0,2.7,2.808,43.4,43.4,0,0,1-.735,5.2C44.069,41.01,44.036,41,44,41Zm2-7a2,2,0,1,1,2-2A2,2,0,0,1,46,34Zm4.162-19.123a25.669,25.669,0,0,1-2.641,1.265,3.944,3.944,0,0,0-4.284-2.065A20.592,20.592,0,0,0,38.9,7.985,24.763,24.763,0,0,1,50.162,14.877ZM32,4a2,2,0,1,1-2,2A2,2,0,0,1,32,4ZM25.1,7.985a20.592,20.592,0,0,0-4.34,6.092,3.944,3.944,0,0,0-4.284,2.065,25.474,25.474,0,0,1-2.641-1.266A24.749,24.749,0,0,1,25.1,7.985ZM12.5,16.4a27.434,27.434,0,0,0,3.514,1.706,3.985,3.985,0,0,0,2.155,3.424,45.607,45.607,0,0,0-1,6.557A4,4,0,0,0,14.142,31H9.858A3.989,3.989,0,0,0,7.3,28.235,24.649,24.649,0,0,1,12.5,16.4ZM4,32a2,2,0,1,1,2,2A2,2,0,0,1,4,32Zm3.3,3.765A3.989,3.989,0,0,0,9.858,33h4.284a4,4,0,0,0,3.022,2.909,46.32,46.32,0,0,0,.8,5.667A3.988,3.988,0,0,0,16,45a4.032,4.032,0,0,0,.1.856A27.46,27.46,0,0,0,12.5,47.6,24.631,24.631,0,0,1,7.3,35.765Zm6.54,13.358a26.294,26.294,0,0,1,3.181-1.483A3.974,3.974,0,0,0,20,49c.109,0,.212-.024.319-.032A21.3,21.3,0,0,0,25.1,56.015,24.744,24.744,0,0,1,13.838,49.123ZM32,60a2,2,0,1,1,2-2A2,2,0,0,1,32,60Zm6.9-3.984a21.3,21.3,0,0,0,4.785-7.048c.107.008.21.032.319.032a3.978,3.978,0,0,0,2.982-1.36,27.12,27.12,0,0,1,3.177,1.487A24.752,24.752,0,0,1,38.9,56.016ZM51.5,47.6a28.265,28.265,0,0,0-3.6-1.743,3.942,3.942,0,0,0-1.874-4.283,45.005,45.005,0,0,0,.808-5.663A4,4,0,0,0,49.858,33h4.284a3.989,3.989,0,0,0,2.56,2.765A24.637,24.637,0,0,1,51.5,47.6ZM58,34a2,2,0,1,1,2-2A2,2,0,0,1,58,34Z" /></g></svg>;

    let overlay;
    if (status === "mining") {
        overlay = <OverlayMining />;
    } else if (status === "broadcasting-block") {
        overlay = <OverlayBroadcasting stroke="SpringGreen" />;
    } else if (status === "receiving-block") {
        overlay = <OverlayReceiving stroke="LightGreen" />;
    } else if (status === "broadcasting-tx") {
        overlay = <OverlayBroadcasting stroke="DeepSkyBlue" />;
    } else if (status === "receiving-tx") {
        overlay = <OverlayReceiving stroke="LightSkyblue" />;
    }

    return (
        <Draggable className="Draggable">
            <div className="Node">
                <div className="NodeIcon">
                    {icon}
                    {overlay}
                </div>
                <div className="NodeName">
                    Name: {name}
                </div>
                <div className="NodeStatus">
                    Status: {status}
                </div>
                <div className="NodeBc">
                    Blockchain: {blocks}
                </div>
                <div className="NodeTp">
                    Transaction Pool: {transactions}
                </div>
            </div>
        </Draggable >
    );
}

export default Node;
